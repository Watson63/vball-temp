<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href = "style.css">
    <style>
      body{
        background-color: rgb(172, 172, 172);
      }
      .dailyCalendar {
            width: 90%;
            max-width: 800px; /* Increase width for horizontal layout */
            background-color: #fff;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
            border-radius: 8px;
            
        }
        th,td{
            color: rgb(48, 48, 48);
    border: 3px solid white;
    text-align: left;
    padding: 8px;
        }
        td {
    display: table-cell;
    vertical-align: inherit;
    unicode-bidi: isolate;
}
table {
    border-collapse: separate;
    text-indent: initial;
    border-spacing: 2px;
    margin: 0 auto;
}
        h1{
            
            font-family: "Bauhaus 93";
            text-align: center;
        }
     
      /* Hide first image (desktop image) on mobile */
      .desktopImage {
        position:relative;
        display: inline;
        max-width: 90%;
        margin-left:5%;
        
      }

      .mobileImage {
        position:relative;
        display:inline;
        max-width: 90%;
        margin-left:5%;
        /* Hide second image (mobile image) by default */
      }
      
      
      

      /* On mobile devices, hide the first image and show the second image */
      @media (max-width: 837px) {
        .dailyCalendar{
          display:inline;
        }
        .weekly-calendar{
          display:none;
        }
        .desktopImage {
          
          display: none; /* Hide desktop image on mobile */
        }

        .mobileImage {
          margin-top: 50px;
            display: inline;
             /* Show mobile image on mobile */
        }
        h1{
            font-size: 200%;
        }
        /* Hide Win % and Points columns */
        th:nth-child(5), th:nth-child(6), td:nth-child(5), td:nth-child(6) {
            display: none;
        }
        
        /* Adjust table width to 300px */
        table {
            width: 90% !important;
            margin: 0 auto;
        }
        th, td {
            font-size: 12px;  /* Adjust font size to fit content */
        }
    
      }

      /* On desktop, show the first image and hide the second image */
      @media (min-width: 837px) {
        .dailyCalendar{
          display: none;
        }
        .desktopImage {
          display: inline;/* Show desktop image */
        }

        .mobileImage {
          display: none; /* Hide mobile image */
        }
        h1{
            font-size:60px;
        }
        .navbar{
            height: 15%;
            font-size:19px;
        }
        .navbar-brand{
            font-size: 35px;
        }
        .d-line-block {
            height: 45px;
            width: 45px;
        }
        #logoutButton {
            width: 50px;
            height: 50px;
        }
      }
      @media (max-width: 837px) and (orientation: landscape) {
        .dailyCalendar{
          display:none;
        }
        .weekly-calendar{
          display:inline;
        }
        /* Remove the fixed-top class and make the navbar non-fixed */
        .navbar {
          position: static !important;
          z-index: 10; /* Override the fixed-top class */
        }
        .desktopImage{
           
            display:inline;
            z-index: -3;
        }
        .mobileImage{
            display:none;
        }
        th:nth-child(5), th:nth-child(6), td:nth-child(5), td:nth-child(6) {
            display: block;
        }
      }
      .weekly-calendar {
            width: 90%;
            max-width: 800px; /* Increase width for horizontal layout */
            background-color: #fff;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
            border-radius: 8px;
            
        }

        .weekly-calendar-header {
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 20px;
        }

        #schedule-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* 7 equal columns for 7 days */
            gap: 10px; /* Space between the grid items */
        }

        .day {
            border: 1px solid #eaeef3;
            padding: 10px;
            border-radius: 4px;
            text-align: center;
        }

        .day-title {
            font-weight: bold;
            font-size: 1.2em;
        }

        .match {
            background-color: #007bff;
            color: #fff;
            padding: 5px;
            border-radius: 4px;
            margin-top: 5px;
        }

        .no-matches {
            color: #888;
            font-style: italic;
        }
    </style>

    <title>Better Vball</title>
  </head>
  <body style="height:2000px;">
    <nav class="navbar fixed-top navbar-expand-md navbar-light bg-light">
      <button type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" class="navbar-toggler navbar-toggler-outline-*" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <a href="#" class="navbar-brand mb-0 h1 align-items-center d-flex mx-auto">
        <img class="d-line-block align-top" src="logo.png" width="30px" height="30">
        YDC Volleyball
      </a>

      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav" style="padding-left: 20px;">
          <li class="nav-item">
            <a href="#" class="nav-link active">Home</a>
          </li>
          <li class="nav-item">
            <a href="leaderboard.html" class="nav-link active">Leaderboard</a>
          </li>
          <li class="nav-item">
            <a href="schedule.html" class="nav-link active">Schedule</a>
          </li>
          <li class="nav-item dropdown" style="max-width: 90%;">
            <a href="#" class="nav-link active dropdown-toggle" id="mediaNavbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Gallery
            </a>
            <ul class="dropdown-menu" aria-labelledby="mediaNavbarDropdown">
              <li><a href="images.html" class="dropdown-item">Images</a></li>
              <li><a href="videos.html" class="dropdown-item">Videos</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown" style="max-width: 90%;">
            <a href="#" class="nav-link active dropdown-toggle" id="teamNavbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Teams
            </a>
            <ul class="dropdown-menu" aria-labelledby="teamNavbarDropdown">
              <li><a href="volleybrawlers.html" class="dropdown-item">Brawlers</a></li>
              <li><a href="chargers.html" class="dropdown-item">Chargers</a></li>
              <li><a href="grizzlies.html" class="dropdown-item">Grizzlies</a></li>
              <li><a href="jets.html" class="dropdown-item">Jets</a></li>
              <li><a href="patriots.html" class="dropdown-item">Patriots</a></li>
              <li><a href="royals.html" class="dropdown-item">Royals</a></li>
              <li><a href="spartans.html" class="dropdown-item">Spartans</a></li>
              <li><a href="tempests.html" class="dropdown-item">Tempests</a></li>
            </ul>
          </li>
        </ul>
      </div>

      <!-- Login Button Container -->
      <div class="login-btn-container">
        <button type="submit" class="btn">
          <img src="logout.svg" id="logoutButton" width="30" height="30" style="padding-left: 8px;">
        </button>
      </div>
    </nav>
    
    <div style="margin-top:20px;">
        
    <!-- Images: Show the first image on desktop, the second on mobile -->
    <img class="desktopImage" src="mainpage.jpg" alt="Main page image">
    <img class="mobileImage" src="frontImageMobile.jpg" alt="Mobile page image">
</div>
<br>
<br>
<h1>Current Standings</h1>
<div >
    <table id="Table1">
        <thead>
          <tr>
            <th>Team</th>
            <th>Games Played</th>
            <th>Wins</th>
            <th>Losses</th>
            <th>Win %</th>
            <th>Points</th>
            <th>Clinched</th>
          </tr>
        </thead>
        <tbody>
      
      <tr>
        <td id="rteam" class="table-names">Royals</td>
        <td class="games-played">24</td>
        <td class="wins">9</td>
        <td class="losses"></td>
        <td class="percentage"></td>
        <td class="points"></td>
        <td class="clinched"></td>
      </tr>
      <tr>
        <td id="tteam" class="table-names">Tempests</td>
        <td class="games-played">24</td>
        <td class="wins">11</td>
        <td class="losses"></td>
        <td class="percentage"></td>
        <td class="points"></td>
        <td class="clinched"></td>
      </tr>
      <tr>
        <td id="jteam" class="table-names">Jets</td>
        <td class="games-played">24</td>
        <td class="wins">16</td>
        <td class="losses"></td>
        <td class="percentage"></td>
        <td class="points"></td>
        <td class="clinched"></td>
      </tr>
      <tr>
        <td id="pteam" class="table-names">Patriots</td>
        <td class="games-played">24</td>
        <td class="wins">3</td>
        <td class="losses"></td>
        <td class="percentage"></td>
        <td class="points"></td>
        <td class="clinched"></td>
      </tr>
      <tr>
        <td id="cteam" class="table-names">Chargers</td>
        <td class="games-played">24</td>
        <td class="wins">18</td>
        <td class="losses"></td>
        <td class="percentage"></td>
        <td class="points"></td>
        <td class="clinched"></td>
      </tr>
      <tr>
        <td id="bteam" class="table-names">Brawlers</td>
        <td class="games-played">24</td>
        <td class="wins">12</td>
        <td class="losses"></td>
        <td class="percentage"></td>
        <td class="points"></td>
        <td class="clinched"></td>
      </tr>
      <tr>
        <td id="spteam" class="table-names">Spartans</td>
        <td class="games-played">24</td>
        <td class="wins">20</td>
        <td class="losses"></td>
        <td class="percentage"></td> 
        <td class="points"></td>
        <td class="clinched"></td>
      </tr>
      <tr>
        <td id="gteam" class="table-names">Grizzlies</td>
        <td class="games-played">24</td>
        <td class="wins">5</td>
        <td class="losses"></td>
        <td class="percentage"></td>
        <td class="points"></td>
        <td class="clinched"></td>
      </tr>
        </tbody>
  
    </table>
    
</div>
<br>
<br>
<br>
<div style="display: flex;
justify-content: center;
align-items: center; margin-top: 50px;">
  <div class="weekly-calendar" >
    <div class="weekly-calendar-header">Weekly Schedule</div>
    <div id="schedule-container"></div>
  </div>
  <div class="dailyCalendar">
    <div class="weekly-calendar-header">Schedule</div>
    <div id="daily-schedule-container"></div>
</div>
</div>

<script src="masterSchedule.js"></script>
<script>
   // Function to sort the table
function sortTable() {
    var table, rows, switching, i, x, y, shouldSwitch;
    table = document.getElementById("Table1");
    switching = true;
    while (switching) {
      switching = false;
      rows = table.rows;
      for (i = 1; i < (rows.length - 1); i++) {
        shouldSwitch = false;
        x = rows[i].getElementsByTagName("TD")[2];
        y = rows[i + 1].getElementsByTagName("TD")[2];
        if (Number(x.innerHTML) < Number(y.innerHTML)) {
          shouldSwitch = true;
          break;
        }
      }
      if (shouldSwitch) {
        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
        switching = true;
      }
    }
}

// Function to update table data
function tablebrains() {
  const table = document.getElementById("Table1");
  var rows = table.rows;
  for (var i = 1; i < rows.length; i++) {
      let games_played = rows[i].getElementsByClassName("games-played")[0];
      let wins = rows[i].getElementsByClassName("wins")[0];
      let losses = rows[i].getElementsByClassName("losses")[0];
      let points = rows[i].getElementsByClassName("points")[0];
      let win_percent = rows[i].getElementsByClassName("percentage")[0];
      let loss_data = Number(games_played.innerHTML) - Number(wins.innerHTML);
      let percent_data = (Number(wins.innerHTML) / Number(games_played.innerHTML)) * 100;
      points.innerHTML = Number(wins.innerHTML) * 2;
      losses.innerHTML = loss_data.toFixed(0);
      win_percent.innerHTML = percent_data.toFixed(2);
  }
  checkClinched();
}

// Function to check if teams have clinched playoff spots
function checkClinched() {
    const table = document.getElementById("Table1");
    var rows = table.rows;
    var points = [];

    for (var i = 1; i < rows.length; i++) {
        points.push(Number(rows[i].getElementsByClassName("points")[0].innerHTML));
    }

    points.sort((a, b) => b - a);
    let cutoffPoints = points[4]; // Points of the 5th team

    for (var i = 1; i < rows.length; i++) {
        let teamPoints = Number(rows[i].getElementsByClassName("points")[0].innerHTML);
        let remainingGames = 24 - Number(rows[i].getElementsByClassName("games-played")[0].innerHTML);
        let maxPossiblePoints = teamPoints + (remainingGames * 2); // Assuming 2 points per win

        let clinched = maxPossiblePoints > cutoffPoints ? "Yes" : "No";
        rows[i].getElementsByClassName("clinched")[0].innerHTML = clinched;
    }
}
// Get the current date
const currentDate = new Date();

const currentDay= new Date(currentDate);
currentDay.setDate(currentDate.getDate());
// Get the start of the current week (Monday)
const startOfWeek = new Date(currentDate);
startOfWeek.setDate(currentDate.getDate() - currentDate.getDay() + 1); // Adjust to Monday

const setDay = new Date(currentDate);
setDay.setDate(setDay.getDay()-2);


// Get the dates for the entire current week (Monday to Sunday)
const dayDates = [];
for (let i = 0; i < 4; i++) {
    const date = new Date(startOfWeek);
    date.setDate(startOfWeek.getDate() + i);
    dayDates.push(date.toISOString().split('T')[0]); // Format as 'YYYY-MM-DD'
}
const todayDate = [];
for (let i = 0; i < 1; i++) {
    const date = new Date(currentDate);
    date.setDate(currentDate.getDate() + i);
    todayDate.push(date.toISOString().split('T')[0]); // Format as 'YYYY-MM-DD'
}
// Prepare the week days object (Monday to Sunday)
const daysOfWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday'];

// Function to render the weekly schedule
function renderWeeklySchedule() {
    const scheduleContainer = document.getElementById('schedule-container');
    scheduleContainer.innerHTML = ''; // Clear existing content

    dayDates.forEach((date, index) => {
        const dayContainer = document.createElement('div');
        dayContainer.classList.add('day');

        // Add the day title (e.g., Monday, Tuesday, etc.)
        const dayTitle = document.createElement('div');
        dayTitle.classList.add('day-title');
        dayTitle.textContent = daysOfWeek[index];
        dayContainer.appendChild(dayTitle);

        // Check if there are matches for the current date
        if (schedule[date]) {
            schedule[date].forEach(match => {
                const matchDiv = document.createElement('div');
                matchDiv.classList.add('match');
                matchDiv.textContent = match;
                dayContainer.appendChild(matchDiv);
            });
        } else {
            const noMatchDiv = document.createElement('div');
            noMatchDiv.classList.add('no-matches');
            noMatchDiv.textContent = 'No matches';
            dayContainer.appendChild(noMatchDiv);
        }

        // Append the day container to the schedule
        scheduleContainer.appendChild(dayContainer);
    });
}

const tomorrowDate = [];

todayDate.push(currentDate.toISOString().split('T')[0]); // Get today's date

const tomorrow = new Date(currentDate);
tomorrow.setDate(currentDate.getDate() + 1); // Set to tomorrow's date
tomorrowDate.push(tomorrow.toISOString().split('T')[0]); // Get tomorrow's date

function renderDailySchedule() {
    const scheduleContainer = document.getElementById('daily-schedule-container');
    scheduleContainer.innerHTML = ''; // Clear existing content

    // Function to display the match schedule for a given date
    function renderDaySchedule(date, dayName) {
        const dayContainer = document.createElement('div');
        dayContainer.classList.add('day');
        
        // Add the day title (e.g., "Today", "Tomorrow")
        const dayTitle = document.createElement('div');
        dayTitle.classList.add('day-title');
        dayTitle.textContent = `Games ${dayName}`;
        dayContainer.appendChild(dayTitle);

        // Check if there are matches for the given date
        if (schedule[date]) {
            schedule[date].forEach(match => {
                const matchDiv = document.createElement('div');
                matchDiv.classList.add('match');
                matchDiv.textContent = match;
                dayContainer.appendChild(matchDiv);
            });
        } else {
            const noMatchDiv = document.createElement('div');
            noMatchDiv.classList.add('no-matches');
            noMatchDiv.textContent = 'No matches';
            dayContainer.appendChild(noMatchDiv);
        }

        // Append the day container to the schedule
        scheduleContainer.appendChild(dayContainer);
    }

    // Render today's schedule
    const today = new Date();
    const todayName = "Today"// Get today's name
    renderDaySchedule(todayDate[0], todayName);

    // Render tomorrow's schedule
    const tomorrow = new Date();
    tomorrow.setDate(today.getDate() + 1); // Get tomorrow's date
    const tomorrowName = "Tomorow";
    renderDaySchedule(tomorrowDate[0], tomorrowName);
}




// Render the schedule
renderWeeklySchedule();
renderDailySchedule();
sortTable();
tablebrains();
  </script>

    <!-- Optional JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
  
  
</html>
